import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate an Adventure Plan for Location: North India, for 5 days with a Rs. 6000 budget for a group of friends. The plan should include exciting activities such as trekking, mountain exploration, camping, rafting, and more. For each activity, provide details such as geo coordinates, price, activity image URL, rating, and a short description. Suggest an itinerary with information like placeName, place details, geo coordinates, ticket pricing, ratings, and travel time between locations. Include a day-by-day breakdown, highlighting adventure activities, scenic relaxation spots, and the best time to experience each. Format everything in JSON\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "location": "North India",\n  "budget": 6000,\n  "duration": "5 days",\n  "groupSize": "Group of friends",\n  "itinerary": [\n    {\n      "day": "Day 1: Delhi - Manali",\n      "activities": [\n        {\n          "placeName": "Delhi Airport",\n          "placeDetails": "Arrival at Delhi Airport.",\n          "geoCoordinates": "28.5673° N, 77.1031° E",\n          "ticketPricing": "NA",\n          "rating": "NA",\n          "image_url": "https://example.com/delhi-airport.jpg",\n          "description": "Arrive in Delhi and collect your luggage.",\n          "time": "Morning"\n        },\n        {\n          "placeName": "Bus to Manali",\n          "placeDetails": "Take an overnight bus from Delhi to Manali.",\n          "geoCoordinates": "NA",\n          "ticketPricing": "₹500-₹800 per person (approx)",\n          "rating": "NA",\n          "image_url": "https://example.com/bus-india.jpg",\n          "description": "Enjoy the scenic overnight journey through the Himalayas.",\n          "time": "Afternoon"\n        },\n        {\n          "placeName": "Manali",\n          "placeDetails": "Reach Manali and check into your accommodation.",\n          "geoCoordinates": "32.1371° N, 77.1681° E",\n          "ticketPricing": "NA",\n          "rating": "NA",\n          "image_url": "https://example.com/manali.jpg",\n          "description": "Settle in and explore the town.",\n          "time": "Morning (next day)"\n        }\n      ]\n    },\n    {\n      "day": "Day 2: Manali - Trekking & Relaxation",\n      "activities": [\n        {\n          "placeName": "Old Manali",\n          "placeDetails": "Explore the charming Old Manali.",\n          "geoCoordinates": "32.1390° N, 77.1712° E",\n          "ticketPricing": "Free",\n          "rating": 4.0,\n          "image_url": "https://example.com/old-manali.jpg",\n          "description": "Stroll through the narrow lanes, visit local cafes, and enjoy the relaxed vibe.",\n          "time": "Morning"\n        },\n        {\n          "placeName": "Hidimba Devi Temple",\n          "placeDetails": "Visit the ancient Hidimba Devi Temple.",\n          "geoCoordinates": "32.1360° N, 77.1707° E",\n          "ticketPricing": "Free",\n          "rating": 4.5,\n          "image_url": "https://example.com/hidimba-temple.jpg",\n          "description": "Experience the unique architecture and serene atmosphere.",\n          "time": "Afternoon"\n        },\n        {\n          "placeName": "Trek to Jogini Falls",\n          "placeDetails": "Embark on a challenging yet rewarding trek to Jogini Falls.",\n          "geoCoordinates": "32.1417° N, 77.1726° E",\n          "ticketPricing": "Free",\n          "rating": 4.5,\n          "image_url": "https://example.com/jogini-falls.jpg",\n          "description": "Enjoy the scenic views and the refreshing waterfall.",\n          "time": "Late Afternoon"\n        }\n      ]\n    },\n    {\n      "day": "Day 3: Manali - Adventure & Camping",\n      "activities": [\n        {\n          "placeName": "Solang Valley",\n          "placeDetails": "Experience adventure activities in Solang Valley.",\n          "geoCoordinates": "32.1966° N, 77.1864° E",\n          "ticketPricing": "₹200-₹500 per activity (approx)",\n          "rating": 4.0,\n          "image_url": "https://example.com/solang-valley.jpg",\n          "description": "Try activities like paragliding, zorbing, and skiing (seasonal).",\n          "time": "Morning"\n        },\n        {\n          "placeName": "Camping in Solang Valley",\n          "placeDetails": "Set up camp in Solang Valley for an overnight adventure.",\n          "geoCoordinates": "32.1966° N, 77.1864° E",\n          "ticketPricing": "₹500-₹800 per person (approx)",\n          "rating": 4.5,\n          "image_url": "https://example.com/camping-solang.jpg",\n          "description": "Enjoy a bonfire, stargazing, and the serene beauty of the mountains.",\n          "time": "Afternoon & Evening"\n        }\n      ]\n    },\n    {\n      "day": "Day 4: Manali - Rafting & Nature",\n      "activities": [\n        {\n          "placeName": "Beas River",\n          "placeDetails": "Enjoy thrilling white-water rafting on the Beas River.",\n          "geoCoordinates": "32.1674° N, 77.1644° E",\n          "ticketPricing": "₹500-₹800 per person (approx)",\n          "rating": 4.0,\n          "image_url": "https://example.com/rafting-beas.jpg",\n          "description": "Experience the rush of the rapids and the beauty of the surrounding scenery.",\n          "time": "Morning"\n        },\n        {\n          "placeName": "Vashisht Hot Springs",\n          "placeDetails": "Relax and rejuvenate at the Vashisht Hot Springs.",\n          "geoCoordinates": "32.1445° N, 77.1575° E",\n          "ticketPricing": "₹20-₹50 per person (approx)",\n          "rating": 4.5,\n          "image_url": "https://example.com/vashisht-springs.jpg",\n          "description": "Soak in the mineral-rich waters and enjoy the peaceful atmosphere.",\n          "time": "Afternoon"\n        }\n      ]\n    },\n    {\n      "day": "Day 5: Manali - Departure",\n      "activities": [\n        {\n          "placeName": "Manali Market",\n          "placeDetails": "Shop for souvenirs and local handicrafts in the Manali market.",\n          "geoCoordinates": "32.1371° N, 77.1681° E",\n          "ticketPricing": "Free",\n          "rating": 4.0,\n          "image_url": "https://example.com/manali-market.jpg",\n          "description": "Find unique treasures and experience the local culture.",\n          "time": "Morning"\n        },\n        {\n          "placeName": "Bus to Delhi",\n          "placeDetails": "Take an overnight bus from Manali to Delhi.",\n          "geoCoordinates": "NA",\n          "ticketPricing": "₹500-₹800 per person (approx)",\n          "rating": "NA",\n          "image_url": "https://example.com/bus-india.jpg",\n          "description": "Enjoy the scenic overnight journey back to Delhi.",\n          "time": "Afternoon"\n        },\n        {\n          "placeName": "Delhi Airport",\n          "placeDetails": "Departure from Delhi Airport.",\n          "geoCoordinates": "28.5673° N, 77.1031° E",\n          "ticketPricing": "NA",\n          "rating": "NA",\n          "image_url": "https://example.com/delhi-airport.jpg",\n          "description": "Board your flight back home from Delhi Airport.",\n          "time": "Morning (next day)"\n        }\n      ]\n    }\n  ]\n}\n\n\n```',
        },
      ],
    },
    {
      role: "user",
      parts: [
        {
          text: "Generate a detailed Learning Plan for studying any DBMS over 3 months, with a daily study duration of 3 hours. Break down the learning path into key sub-topics. Start with foundational concepts, then progress to intermediate and advanced topics. For each sub-topic, include the following details in JSON format: topic name, sub-topics, study hours per week, difficulty level (easy, medium, hard), recommended resources (books, websites, videos), assessment methods (quizzes, assignments, projects), URLs for online tests or practice exams, and weekly goals. Include milestones and progress tracking for the subject.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "subject": "Database Management Systems (DBMS)",\n  "duration": "3 months",\n  "dailyStudyDuration": "3 hours",\n  "topics": [\n    {\n      "topicName": "Fundamentals of DBMS",\n      "subTopics": [\n        "Introduction to Databases",\n        "Types of Databases (Relational, NoSQL, etc.)",\n        "Data Models (Entity-Relationship Model, Relational Model)",\n        "Database Schema Design",\n        "Data Types and Constraints",\n        "Database Languages (SQL, DDL, DML)"\n      ],\n      "studyHoursPerWeek": 6,\n      "difficultyLevel": "Easy",\n      "recommendedResources": [\n        {\n          "type": "Book",\n          "title": "Database Systems: Concepts, Design, and Applications",\n          "author": "Abraham Silberschatz, Henry F. Korth, S. Sudarshan",\n          "url": "https://www.amazon.com/Database-Systems-Concepts-Design-Applications/dp/0133970020"\n        },\n        {\n          "type": "Website",\n          "name": "W3Schools SQL Tutorial",\n          "url": "https://www.w3schools.com/sql/"\n        },\n        {\n          "type": "Video",\n          "title": "SQL Tutorial for Beginners - Full Database Course",\n          "platform": "YouTube",\n          "url": "https://www.youtube.com/watch?v=HXV3zeQKqGY"\n        }\n      ],\n      "assessmentMethods": [\n        "Quizzes",\n        "Assignments",\n        "Schema Design Exercises"\n      ],\n      "onlineTestURLs": [\n        "https://www.w3resource.com/sql-exercises/",\n        "https://www.hackerrank.com/domains/sql"\n      ],\n      "weeklyGoals": [\n        "Understand the basic concepts of DBMS",\n        "Learn about different types of databases",\n        "Become familiar with SQL and its basic commands",\n        "Practice designing simple database schemas"\n      ]\n    },\n    {\n      "topicName": "Relational Database Management Systems (RDBMS)",\n      "subTopics": [\n        "Relational Algebra and Calculus",\n        "Normalization (1NF, 2NF, 3NF, BCNF)",\n        "SQL Queries (SELECT, INSERT, UPDATE, DELETE)",\n        "Joins (INNER JOIN, OUTER JOIN)",\n        "Subqueries and Views",\n        "Transaction Management (ACID Properties)",\n        "Concurrency Control"\n      ],\n      "studyHoursPerWeek": 8,\n      "difficultyLevel": "Medium",\n      "recommendedResources": [\n        {\n          "type": "Book",\n          "title": "Database Systems: Concepts, Design, and Applications",\n          "author": "Abraham Silberschatz, Henry F. Korth, S. Sudarshan",\n          "url": "https://www.amazon.com/Database-Systems-Concepts-Design-Applications/dp/0133970020"\n        },\n        {\n          "type": "Website",\n          "name": "SQL Tutorial",\n          "url": "https://www.sqltutorial.org/"\n        },\n        {\n          "type": "Video",\n          "title": "SQL for Data Analysis (Complete Guide)",\n          "platform": "Udemy",\n          "url": "https://www.udemy.com/course/sql-for-data-analysis-complete-guide/"\n        }\n      ],\n      "assessmentMethods": [\n        "Quizzes",\n        "Assignments",\n        "SQL Querying Projects",\n        "Database Design and Normalization Exercises"\n      ],\n      "onlineTestURLs": [\n        "https://www.sql-ex.ru/",\n        "https://www.codewars.com/kata/search/sql"\n      ],\n      "weeklyGoals": [\n        "Master relational algebra and calculus",\n        "Understand normalization and its importance",\n        "Become proficient in writing complex SQL queries",\n        "Learn about transaction management and concurrency control"\n      ]\n    },\n    {\n      "topicName": "Database Design and Implementation",\n      "subTopics": [\n        "Database Design Principles",\n        "Data Modeling and ER Diagrams",\n        "Logical and Physical Database Design",\n        "Database Implementation (using SQL)",\n        "Database Tuning and Optimization"\n      ],\n      "studyHoursPerWeek": 7,\n      "difficultyLevel": "Medium",\n      "recommendedResources": [\n        {\n          "type": "Book",\n          "title": "Database Design for Mere Mortals",\n          "author": "Michael J. Hernandez",\n          "url": "https://www.amazon.com/Database-Design-Mere-Mortals-Principles/dp/1119425862"\n        },\n        {\n          "type": "Website",\n          "name": "Oracle Database Documentation",\n          "url": "https://docs.oracle.com/en/database/"\n        },\n        {\n          "type": "Video",\n          "title": "Database Design and Implementation - Complete Guide",\n          "platform": "Udemy",\n          "url": "https://www.udemy.com/course/database-design-and-implementation-complete-guide/"\n        }\n      ],\n      "assessmentMethods": [\n        "Quizzes",\n        "Assignments",\n        "Database Design and Implementation Projects"\n      ],\n      "onlineTestURLs": [\n        "https://www.oracle.com/database/technologies/certification/index.html",\n        "https://www.microsoft.com/en-us/learning/microsoft-certifications/database/"\n      ],\n      "weeklyGoals": [\n        "Learn about database design methodologies",\n        "Practice creating ER diagrams and designing database schemas",\n        "Gain experience in implementing databases using SQL",\n        "Understand database tuning and optimization techniques"\n      ]\n    },\n    {\n      "topicName": "Advanced Database Concepts",\n      "subTopics": [\n        "Distributed Databases",\n        "Data Warehousing and Data Mining",\n        "NoSQL Databases",\n        "Cloud Databases",\n        "Database Security"\n      ],\n      "studyHoursPerWeek": 8,\n      "difficultyLevel": "Hard",\n      "recommendedResources": [\n        {\n          "type": "Book",\n          "title": "Data Warehousing and Data Mining: Concepts, Models, and Applications",\n          "author": "Jiawei Han, Micheline Kamber, Jian Pei",\n          "url": "https://www.amazon.com/Data-Warehousing-Mining-Concepts-Applications/dp/0132744198"\n        },\n        {\n          "type": "Website",\n          "name": "MongoDB Documentation",\n          "url": "https://docs.mongodb.com/"\n        },\n        {\n          "type": "Video",\n          "title": "NoSQL Databases - Complete Guide",\n          "platform": "Udemy",\n          "url": "https://www.udemy.com/course/nosql-databases-complete-guide/"\n        }\n      ],\n      "assessmentMethods": [\n        "Quizzes",\n        "Assignments",\n        "Projects involving NoSQL databases or cloud databases"\n      ],\n      "onlineTestURLs": [\n        "https://www.mongodb.com/certification/mongodb-developer",\n        "https://aws.amazon.com/certification/database/"\n      ],\n      "weeklyGoals": [\n        "Explore distributed database systems",\n        "Learn about data warehousing and data mining techniques",\n        "Understand the principles of NoSQL databases",\n        "Gain knowledge of cloud databases and database security"\n      ]\n    }\n  ],\n  "topicSequence": [\n    "Fundamentals of DBMS",\n    "Relational Database Management Systems (RDBMS)",\n    "Database Design and Implementation",\n    "Advanced Database Concepts"\n  ],\n  "progressTracking": {\n    "milestones": [\n      {\n        "name": "Complete Fundamentals of DBMS",\n        "percentage": 25\n      },\n      {\n        "name": "Complete Relational Database Management Systems (RDBMS)",\n        "percentage": 50\n      },\n      {\n        "name": "Complete Database Design and Implementation",\n        "percentage": 75\n      },\n      {\n        "name": "Complete Advanced Database Concepts",\n        "percentage": 100\n      }\n    ],\n    "mockTestURLs": [\n      "https://www.w3resource.com/sql-exercises/",\n      "https://www.hackerrank.com/domains/sql",\n      "https://www.sql-ex.ru/",\n      "https://www.codewars.com/kata/search/sql",\n      "https://www.oracle.com/database/technologies/certification/index.html",\n      "https://www.microsoft.com/en-us/learning/microsoft-certifications/database/",\n      "https://www.mongodb.com/certification/mongodb-developer",\n      "https://aws.amazon.com/certification/database/"\n    ]\n  }\n}\n\n\n```',
        },
      ],
    },
  ],
});
